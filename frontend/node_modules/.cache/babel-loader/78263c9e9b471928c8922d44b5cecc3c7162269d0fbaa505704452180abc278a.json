{"ast":null,"code":"import _objectSpread from\"C:/Users/User/Downloads/student-feedback-app/student-feedback-app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function FeedbackForm(_ref){let{onFeedbackSubmitted}=_ref;const[form,setForm]=useState({studentName:'',courseCode:'',comments:'',rating:1});const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const handleChange=e=>{const{name,value}=e.target;setForm(f=>_objectSpread(_objectSpread({},f),{},{[name]:value}));};const handleSubmit=async e=>{e.preventDefault();setError(null);setLoading(true);try{await axios.post('http://localhost:5000/api/feedback',_objectSpread(_objectSpread({},form),{},{rating:Number(form.rating)}));setForm({studentName:'',courseCode:'',comments:'',rating:1});onFeedbackSubmitted();}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error)||err.message);}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"card shadow-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:\"Submit Feedback\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Student Name\"}),/*#__PURE__*/_jsx(\"input\",{required:true,name:\"studentName\",className:\"form-control\",value:form.studentName,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Course Code\"}),/*#__PURE__*/_jsx(\"input\",{required:true,name:\"courseCode\",className:\"form-control\",value:form.courseCode,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Comments\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"comments\",className:\"form-control\",value:form.comments,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Rating\"}),/*#__PURE__*/_jsx(\"select\",{name:\"rating\",className:\"form-select\",value:form.rating,onChange:handleChange,children:[1,2,3,4,5].map(r=>/*#__PURE__*/_jsx(\"option\",{value:r,children:r},r))})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",type:\"submit\",disabled:loading,children:loading?'Submitting...':'Submit'})]})]})});}export default FeedbackForm;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","FeedbackForm","_ref","onFeedbackSubmitted","form","setForm","studentName","courseCode","comments","rating","loading","setLoading","error","setError","handleChange","e","name","value","target","f","_objectSpread","handleSubmit","preventDefault","post","Number","err","_err$response","_err$response$data","response","data","message","className","children","onSubmit","required","onChange","map","r","type","disabled"],"sources":["C:/Users/User/Downloads/student-feedback-app/student-feedback-app/frontend/src/components/FeedbackForm.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\n\nfunction FeedbackForm({ onFeedbackSubmitted }) {\n  const [form, setForm] = useState({\n    studentName: '',\n    courseCode: '',\n    comments: '',\n    rating: 1\n  });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const handleChange = e => {\n    const { name, value } = e.target;\n    setForm(f => ({ ...f, [name]: value }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError(null);\n    setLoading(true);\n    try {\n      await axios.post('http://localhost:5000/api/feedback', {\n        ...form,\n        rating: Number(form.rating)\n      });\n      setForm({ studentName: '', courseCode: '', comments: '', rating: 1 });\n      onFeedbackSubmitted();\n    } catch (err) {\n      setError(err.response?.data?.error || err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"card shadow-sm\">\n      <div className=\"card-body\">\n        <h5 className=\"card-title\">Submit Feedback</h5>\n        {error && <div className=\"alert alert-danger\">{error}</div>}\n        <form onSubmit={handleSubmit}>\n          <div className=\"mb-3\">\n            <label className=\"form-label\">Student Name</label>\n            <input required name=\"studentName\" className=\"form-control\" value={form.studentName} onChange={handleChange} />\n          </div>\n          <div className=\"mb-3\">\n            <label className=\"form-label\">Course Code</label>\n            <input required name=\"courseCode\" className=\"form-control\" value={form.courseCode} onChange={handleChange} />\n          </div>\n          <div className=\"mb-3\">\n            <label className=\"form-label\">Comments</label>\n            <textarea name=\"comments\" className=\"form-control\" value={form.comments} onChange={handleChange} />\n          </div>\n          <div className=\"mb-3\">\n            <label className=\"form-label\">Rating</label>\n            <select name=\"rating\" className=\"form-select\" value={form.rating} onChange={handleChange}>\n              {[1,2,3,4,5].map(r => <option key={r} value={r}>{r}</option>)}\n            </select>\n          </div>\n          <button className=\"btn btn-primary\" type=\"submit\" disabled={loading}>\n            {loading ? 'Submitting...' : 'Submit'}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default FeedbackForm;\n"],"mappings":"+JAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,QAAS,CAAAC,YAAYA,CAAAC,IAAA,CAA0B,IAAzB,CAAEC,mBAAoB,CAAC,CAAAD,IAAA,CAC3C,KAAM,CAACE,IAAI,CAAEC,OAAO,CAAC,CAAGV,QAAQ,CAAC,CAC/BW,WAAW,CAAE,EAAE,CACfC,UAAU,CAAE,EAAE,CACdC,QAAQ,CAAE,EAAE,CACZC,MAAM,CAAE,CACV,CAAC,CAAC,CACF,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGhB,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACiB,KAAK,CAAEC,QAAQ,CAAC,CAAGlB,QAAQ,CAAC,IAAI,CAAC,CAExC,KAAM,CAAAmB,YAAY,CAAGC,CAAC,EAAI,CACxB,KAAM,CAAEC,IAAI,CAAEC,KAAM,CAAC,CAAGF,CAAC,CAACG,MAAM,CAChCb,OAAO,CAACc,CAAC,EAAAC,aAAA,CAAAA,aAAA,IAAUD,CAAC,MAAE,CAACH,IAAI,EAAGC,KAAK,EAAG,CAAC,CACzC,CAAC,CAED,KAAM,CAAAI,YAAY,CAAG,KAAO,CAAAN,CAAC,EAAK,CAChCA,CAAC,CAACO,cAAc,CAAC,CAAC,CAClBT,QAAQ,CAAC,IAAI,CAAC,CACdF,UAAU,CAAC,IAAI,CAAC,CAChB,GAAI,CACF,KAAM,CAAAf,KAAK,CAAC2B,IAAI,CAAC,oCAAoC,CAAAH,aAAA,CAAAA,aAAA,IAChDhB,IAAI,MACPK,MAAM,CAAEe,MAAM,CAACpB,IAAI,CAACK,MAAM,CAAC,EAC5B,CAAC,CACFJ,OAAO,CAAC,CAAEC,WAAW,CAAE,EAAE,CAAEC,UAAU,CAAE,EAAE,CAAEC,QAAQ,CAAE,EAAE,CAAEC,MAAM,CAAE,CAAE,CAAC,CAAC,CACrEN,mBAAmB,CAAC,CAAC,CACvB,CAAE,MAAOsB,GAAG,CAAE,KAAAC,aAAA,CAAAC,kBAAA,CACZd,QAAQ,CAAC,EAAAa,aAAA,CAAAD,GAAG,CAACG,QAAQ,UAAAF,aAAA,kBAAAC,kBAAA,CAAZD,aAAA,CAAcG,IAAI,UAAAF,kBAAA,iBAAlBA,kBAAA,CAAoBf,KAAK,GAAIa,GAAG,CAACK,OAAO,CAAC,CACpD,CAAC,OAAS,CACRnB,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,mBACEb,IAAA,QAAKiC,SAAS,CAAC,gBAAgB,CAAAC,QAAA,cAC7BhC,KAAA,QAAK+B,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBlC,IAAA,OAAIiC,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,iBAAe,CAAI,CAAC,CAC9CpB,KAAK,eAAId,IAAA,QAAKiC,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAEpB,KAAK,CAAM,CAAC,cAC3DZ,KAAA,SAAMiC,QAAQ,CAAEZ,YAAa,CAAAW,QAAA,eAC3BhC,KAAA,QAAK+B,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBlC,IAAA,UAAOiC,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,cAAY,CAAO,CAAC,cAClDlC,IAAA,UAAOoC,QAAQ,MAAClB,IAAI,CAAC,aAAa,CAACe,SAAS,CAAC,cAAc,CAACd,KAAK,CAAEb,IAAI,CAACE,WAAY,CAAC6B,QAAQ,CAAErB,YAAa,CAAE,CAAC,EAC5G,CAAC,cACNd,KAAA,QAAK+B,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBlC,IAAA,UAAOiC,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,aAAW,CAAO,CAAC,cACjDlC,IAAA,UAAOoC,QAAQ,MAAClB,IAAI,CAAC,YAAY,CAACe,SAAS,CAAC,cAAc,CAACd,KAAK,CAAEb,IAAI,CAACG,UAAW,CAAC4B,QAAQ,CAAErB,YAAa,CAAE,CAAC,EAC1G,CAAC,cACNd,KAAA,QAAK+B,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBlC,IAAA,UAAOiC,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,UAAQ,CAAO,CAAC,cAC9ClC,IAAA,aAAUkB,IAAI,CAAC,UAAU,CAACe,SAAS,CAAC,cAAc,CAACd,KAAK,CAAEb,IAAI,CAACI,QAAS,CAAC2B,QAAQ,CAAErB,YAAa,CAAE,CAAC,EAChG,CAAC,cACNd,KAAA,QAAK+B,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBlC,IAAA,UAAOiC,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,QAAM,CAAO,CAAC,cAC5ClC,IAAA,WAAQkB,IAAI,CAAC,QAAQ,CAACe,SAAS,CAAC,aAAa,CAACd,KAAK,CAAEb,IAAI,CAACK,MAAO,CAAC0B,QAAQ,CAAErB,YAAa,CAAAkB,QAAA,CACtF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAACI,GAAG,CAACC,CAAC,eAAIvC,IAAA,WAAgBmB,KAAK,CAAEoB,CAAE,CAAAL,QAAA,CAAEK,CAAC,EAAfA,CAAwB,CAAC,CAAC,CACvD,CAAC,EACN,CAAC,cACNvC,IAAA,WAAQiC,SAAS,CAAC,iBAAiB,CAACO,IAAI,CAAC,QAAQ,CAACC,QAAQ,CAAE7B,OAAQ,CAAAsB,QAAA,CACjEtB,OAAO,CAAG,eAAe,CAAG,QAAQ,CAC/B,CAAC,EACL,CAAC,EACJ,CAAC,CACH,CAAC,CAEV,CAEA,cAAe,CAAAT,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}