{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Dashboard(){const[feedbacks,setFeedbacks]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const API_URL=process.env.REACT_APP_API_URL||'http://localhost:5000';useEffect(()=>{async function load(){setError(null);setLoading(true);try{const res=await axios.get(\"\".concat(API_URL,\"/api/feedback\"));setFeedbacks(res.data);}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error)||err.message);}finally{setLoading(false);}}load();},[API_URL]);return/*#__PURE__*/_jsx(\"div\",{className:\"card shadow-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:\"Feedback Dashboard\"}),loading&&/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:error}),!loading&&!error&&/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Student\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Course\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Comments\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Rating\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[feedbacks.length===0&&/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"4\",className:\"text-center\",children:\"No feedback yet\"})}),feedbacks.map(f=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:f.studentName}),/*#__PURE__*/_jsx(\"td\",{children:f.courseCode}),/*#__PURE__*/_jsx(\"td\",{children:f.comments}),/*#__PURE__*/_jsx(\"td\",{children:f.rating})]},f.id))]})]})})]})});}export default Dashboard;","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","Dashboard","feedbacks","setFeedbacks","loading","setLoading","error","setError","API_URL","process","env","REACT_APP_API_URL","load","res","get","concat","data","err","_err$response","_err$response$data","response","message","className","children","length","colSpan","map","f","studentName","courseCode","comments","rating","id"],"sources":["C:/Users/User/Downloads/student-feedback-app/student-feedback-app/frontend/src/components/Dashboard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\n\nfunction Dashboard() {\n  const [feedbacks, setFeedbacks] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000';\n\n  useEffect(() => {\n    async function load() {\n      setError(null);\n      setLoading(true);\n      try {\n        const res = await axios.get(`${API_URL}/api/feedback`);\n        setFeedbacks(res.data);\n      } catch (err) {\n        setError(err.response?.data?.error || err.message);\n      } finally {\n        setLoading(false);\n      }\n    }\n    load();\n  }, [API_URL]);\n\n  return (\n    <div className=\"card shadow-sm\">\n      <div className=\"card-body\">\n        <h5 className=\"card-title\">Feedback Dashboard</h5>\n        {loading && <p>Loading...</p>}\n        {error && <div className=\"alert alert-danger\">{error}</div>}\n        {!loading && !error && (\n          <div className=\"table-responsive\">\n            <table className=\"table table-striped\">\n              <thead>\n                <tr>\n                  <th>Student</th>\n                  <th>Course</th>\n                  <th>Comments</th>\n                  <th>Rating</th>\n                </tr>\n              </thead>\n              <tbody>\n                {feedbacks.length === 0 && (\n                  <tr>\n                    <td colSpan=\"4\" className=\"text-center\">No feedback yet</td>\n                  </tr>\n                )}\n                {feedbacks.map(f => (\n                  <tr key={f.id}>\n                    <td>{f.studentName}</td>\n                    <td>{f.courseCode}</td>\n                    <td>{f.comments}</td>\n                    <td>{f.rating}</td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default Dashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}